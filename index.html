<!DOCTYPE html>
<html>
<head>
    <title>Emoji Secret Message</title>
</head>
<body>
    <h2>Emoji Secret Message Encryptor/Decryptor</h2>

    <label>Message (type or paste here):</label><br>
    <textarea id="message" rows="4" cols="40" placeholder="Yahan apna message likho ya encrypted emoji yahan paste karo..."></textarea><br><br>

    <input type="password" id="password" placeholder="Password daalo"><br><br>

    <button onclick="encryptMessage()">Encrypt</button>
    <button onclick="decryptMessage()">Decrypt</button><br><br>

    <label>Output:</label><br>
    <textarea id="output" rows="4" cols="40" readonly style="background-color:#f0f0f0;"></textarea>

<script>
    const emojis = ['😀','😁','😂','🤣','😃','😄','😅','😆','😉','😊','😋','😎','😍','😘','😗','😙','😚','🙂','🤗','🤔','😐','😑','😶','🙄','😏'];

    function encryptMessage() {
        let msg = document.getElementById('message').value.toLowerCase();
        let pwd = document.getElementById('password').value;
        if (!pwd) {
            alert('Password zaroori hai!');
            return;
        }
        let passSum = 0;
        for (let ch of pwd) {
            passSum += ch.charCodeAt(0);
        }
        let encrypted = '';
        for (let ch of msg) {
            let idx = ch.charCodeAt(0) - 97;
            if (idx >= 0 && idx < 26) {
                let shifted = (idx + passSum) % 26;
                encrypted += emojis[shifted];
            } else if (ch === ' ') {
                encrypted += ' ';
            } else {
                encrypted += ch;
            }
        }
        document.getElementById('output').value = encrypted;
    }

    function decryptMessage() {
        let encrypted = document.getElementById('message').value;
        let pwd = document.getElementById('password').value;
        if (!pwd) {
            alert('Password zaroori hai!');
            return;
        }
        let passSum = 0;
        for (let ch of pwd) {
            passSum += ch.charCodeAt(0);
        }
        let decrypted = '';
        for (let ch of encrypted) {
            let idx = emojis.indexOf(ch);
            if (idx !== -1) {
                let shifted = (idx - passSum + 26) % 26;
                decrypted += String.fromCharCode(shifted + 97);
            } else {
                decrypted += ch;
            }
        }
        document.getElementById('output').value = decrypted;
    }
</script>
</body>
</html>
