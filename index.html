<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Secret Message with Emoji Output</title>
<style>
  :root {
    --bg-light: #f0f4f8;
    --bg-dark: #121212;
    --color-light: #333;
    --color-dark: #eee;
    --primary-light: #3498db;
    --primary-dark: #2980b9;
  }
  body {
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    background: var(--bg-light);
    color: var(--color-light);
    margin: 0; padding: 20px;
    display: flex;
    justify-content: center;
    align-items: center;
    min-height: 100vh;
    transition: background-color 0.3s, color 0.3s;
  }
  body.dark {
    background: var(--bg-dark);
    color: var(--color-dark);
  }
  .container {
    background: white;
    max-width: 520px;
    width: 100%;
    padding: 30px;
    border-radius: 12px;
    box-shadow: 0 10px 20px rgba(0,0,0,0.1);
    text-align: center;
    transition: background-color 0.3s, color 0.3s;
  }
  body.dark .container {
    background: #1e1e1e;
    color: var(--color-dark);
    box-shadow: 0 10px 20px rgba(255,255,255,0.1);
  }
  h2 {
    margin-bottom: 20px;
  }
  label {
    display: block;
    margin: 12px 0 6px;
    font-weight: 600;
    text-align: left;
  }
  select, textarea, input[type="password"] {
    width: 100%;
    padding: 10px 12px;
    font-size: 1rem;
    border-radius: 8px;
    border: 1.5px solid #ccc;
    box-sizing: border-box;
    transition: border-color 0.3s ease, background-color 0.3s ease, color 0.3s ease;
  }
  body.dark select, body.dark textarea, body.dark input[type="password"] {
    background: #333;
    color: var(--color-dark);
    border-color: #555;
  }
  textarea {
    resize: vertical;
    min-height: 80px;
  }
  textarea:focus, input[type="password"]:focus, select:focus {
    border-color: var(--primary-light);
    outline: none;
  }
  button {
    background-color: var(--primary-light);
    border: none;
    color: white;
    padding: 12px 25px;
    margin: 10px 8px 20px 8px;
    border-radius: 8px;
    cursor: pointer;
    font-size: 1rem;
    transition: background-color 0.3s ease;
    user-select: none;
  }
  button:hover {
    background-color: var(--primary-dark);
  }
  #output {
    background-color: #ecf0f1;
    border-radius: 8px;
    padding: 15px;
    min-height: 80px;
    font-size: 1.3rem;
    white-space: pre-wrap;
    word-wrap: break-word;
    color: #2c3e50;
    user-select: all;
    margin-top: 10px;
  }
  body.dark #output {
    background-color: #2c2c2c;
    color: var(--color-dark);
  }
  .footer {
    margin-top: 30px;
    font-size: 0.9rem;
    color: #555;
    user-select: none;
  }
  body.dark .footer {
    color: #aaa;
  }
  .topbar {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 20px;
  }
  .topbar > * {
    flex: 1;
    max-width: 160px;
  }
  .theme-toggle {
    cursor: pointer;
    text-align: center;
    font-weight: 600;
  }
</style>
</head>
<body>
  <div class="container" role="main" aria-label="Secret message encryptor with emoji output and customization">
    <div class="topbar">
      <select id="langSelect" aria-label="Select Language">
        <option value="en" selected>English</option>
        <option value="hi">рд╣рд┐рдиреНрджреА</option>
        <option value="or">рмУрмбрм╝рм┐рмЖ</option>
      </select>
      <select id="emojiSetSelect" aria-label="Select Emoji Set">
        <option value="default" selected>Default Emoji Set</option>
        <option value="smiley">Smiley Faces</option>
        <option value="animals">Animals</option>
      </select>
      <div class="theme-toggle" id="themeToggle" tabindex="0" role="button" aria-pressed="false" aria-label="Toggle Light/Dark Theme">ЁЯМЩ Dark Mode</div>
    </div>

    <h2 id="title">Secret Message</h2>

    <label for="message" id="labelMessage">Message (type or paste here):</label>
    <textarea id="message" placeholder="Type your message here..."></textarea>

    <label for="password" id="labelPassword">Password:</label>
    <input type="password" id="password" placeholder="Enter password" />

    <div>
      <button id="encryptBtn">Encrypt ЁЯФТ</button>
      <button id="decryptBtn">Decrypt ЁЯФУ</button>
      <button id="copyBtn">Copy Output ЁЯУЛ</button>
    </div>

    <div id="output" aria-live="polite" role="region" tabindex="0"></div>

    <div class="footer" id="footerText">Crafted with тЭдя╕П by Gopinath</div>
  </div>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/4.1.1/crypto-js.min.js"></script>

  <script>
    const emojiSets = {
      default: [
        "ЁЯША","ЁЯШБ","ЁЯШВ","ЁЯдг","ЁЯШГ","ЁЯШД","ЁЯШЕ","ЁЯШЖ",
        "ЁЯШЙ","ЁЯШК","ЁЯШЛ","ЁЯШО","ЁЯШН","ЁЯШШ","ЁЯШЧ","ЁЯШЩ",
        "ЁЯШЪ","ЁЯЩВ","ЁЯдЧ","ЁЯдФ","ЁЯШР","ЁЯШС","ЁЯШ╢","ЁЯЩД",
        "ЁЯШП","ЁЯШг","ЁЯШе","ЁЯШо","ЁЯдР","ЁЯШп","ЁЯШк","ЁЯШл",
        "ЁЯШ┤","ЁЯШМ","ЁЯШЫ","ЁЯШЬ","ЁЯШЭ","ЁЯдд","ЁЯШТ","ЁЯШУ",
        "ЁЯШФ","ЁЯШХ","ЁЯЩГ","ЁЯдС","ЁЯШ▓","тШ╣я╕П","ЁЯЩБ","ЁЯШЦ",
        "ЁЯШЮ","ЁЯШЯ","ЁЯШд","ЁЯШв","ЁЯШн","ЁЯШж","ЁЯШз","ЁЯШи",
        "ЁЯШй","ЁЯдп","ЁЯШм","ЁЯШ░","ЁЯШ▒","ЁЯе╡","ЁЯе╢","ЁЯШ│"
      ],
      smiley: [
        "ЁЯША","ЁЯШГ","ЁЯШД","ЁЯШБ","ЁЯШЖ","ЁЯШЕ","ЁЯШВ","ЁЯдг",
        "ЁЯШК","ЁЯШЗ","ЁЯЩВ","ЁЯЩГ","ЁЯШЙ","ЁЯШМ","ЁЯШН","ЁЯе░",
        "ЁЯШШ","ЁЯШЧ","ЁЯШЩ","ЁЯШЪ","ЁЯШЛ","ЁЯШЫ","ЁЯШЭ","ЁЯШЬ",
        "ЁЯдк","ЁЯди","ЁЯзР","ЁЯдУ","ЁЯШО","ЁЯе│","ЁЯда","ЁЯШП",
        "ЁЯШТ","ЁЯШЮ","ЁЯШФ","ЁЯШЯ","ЁЯШХ","ЁЯЩБ","тШ╣я╕П","ЁЯШг",
        "ЁЯШЦ","ЁЯШл","ЁЯШй","ЁЯе║","ЁЯШв","ЁЯШн","ЁЯШд","ЁЯШа",
        "ЁЯШб","ЁЯдм","ЁЯдп","ЁЯШ│","ЁЯе╡","ЁЯе╢","ЁЯШ▒","ЁЯШи"
      ],
      animals: [
        "ЁЯР╢","ЁЯР▒","ЁЯРн","ЁЯР╣","ЁЯР░","ЁЯжК","ЁЯР╗","ЁЯР╝",
        "ЁЯРи","ЁЯРп","ЁЯжБ","ЁЯРо","ЁЯР╖","ЁЯР╕","ЁЯР╡","ЁЯРФ",
        "ЁЯРз","ЁЯРж","ЁЯРд","ЁЯРг","ЁЯРе","ЁЯжЖ","ЁЯжЕ","ЁЯжЙ",
        "ЁЯжЗ","ЁЯР║","ЁЯРЧ","ЁЯР┤","ЁЯжД","ЁЯРЭ","ЁЯРЫ","ЁЯжЛ",
        "ЁЯРМ","ЁЯРЮ","ЁЯРЬ","ЁЯжЧ","ЁЯХ╖я╕П","ЁЯжВ","ЁЯРв","ЁЯРН",
        "ЁЯжО","ЁЯРЩ","ЁЯжС","ЁЯжР","ЁЯжА","ЁЯРб","ЁЯРа","ЁЯРЯ"
      ]
    };

    const langData = {
      en: {
        title: "Secret Message",
        labelMessage: "Message (type or paste here):",
        labelPassword: "Password:",
        encrypt: "Encrypt ЁЯФТ",
        decrypt: "Decrypt ЁЯФУ",
        copy: "Copy Output ЁЯУЛ",
        crafted: "Crafted with тЭдя╕П by Gopinath",
        alertNoMessage: "Please enter a message.",
        alertNoPassword: "Please enter a password.",
        alertNoEncrypted: "Please enter the encrypted emoji message.",
        alertIncorrectPassword: "Incorrect password or corrupted message.",
        alertEncryptionFailed: "Encryption failed.",
        alertDecryptionFailed: "Decryption failed.",
        alertCopied: "Output copied to clipboard!"
      },
      hi: {
        title: "рд╕реАрдХреНрд░реЗрдЯ рдореИрд╕реЗрдЬ",
        labelMessage: "рдореИрд╕реЗрдЬ (рдпрд╣рд╛рдВ рдЯрд╛рдЗрдк рдпрд╛ рдкреЗрд╕реНрдЯ рдХрд░реЗрдВ):",
        labelPassword: "рдкрд╛рд╕рд╡рд░реНрдб:",
        encrypt: "рдПрдирдХреНрд░рд┐рдкреНрдЯ ЁЯФТ",
        decrypt: "рдбреАрдХреНрд░рд┐рдкреНрдЯ ЁЯФУ",
        copy: "рдХреЙрдкреА рдЖрдЙрдЯрдкреБрдЯ ЁЯУЛ",
        crafted: "рджрд┐рд▓ рд╕реЗ рдмрдирд╛рдпрд╛ тЭдя╕П рдЧреЛрдкреАрдирд╛рде рджреНрд╡рд╛рд░рд╛",
        alertNoMessage: "рдХреГрдкрдпрд╛ рдореИрд╕реЗрдЬ рджрд░реНрдЬ рдХрд░реЗрдВред",
        alertNoPassword: "рдХреГрдкрдпрд╛ рдкрд╛рд╕рд╡рд░реНрдб рджрд░реНрдЬ рдХрд░реЗрдВред",
        alertNoEncrypted: "рдХреГрдкрдпрд╛ рдПрдиреНрдХреНрд░рд┐рдкреНрдЯреЗрдб рдЗрдореЛрдЬреА рдореИрд╕реЗрдЬ рджрд░реНрдЬ рдХрд░реЗрдВред",
        alertIncorrectPassword: "рдЧрд▓рдд рдкрд╛рд╕рд╡рд░реНрдб рдпрд╛ рдореИрд╕реЗрдЬ рдЦрд░рд╛рдм рд╣реИред",
        alertEncryptionFailed: "рдПрдирдХреНрд░рд┐рдкреНрд╢рди рдЕрд╕рдлрд▓ рд░рд╣рд╛ред",
        alertDecryptionFailed: "рдбреАрдХреНрд░рд┐рдкреНрд╢рди рдЕрд╕рдлрд▓ рд░рд╣рд╛ред",
        alertCopied: "рдЖрдЙрдЯрдкреБрдЯ рдХреНрд▓рд┐рдкрдмреЛрд░реНрдб рдореЗрдВ рдХреЙрдкреА рд╣реЛ рдЧрдпрд╛!"
      },
      or: {
        title: "рм╕рм┐рмХрнНрм░рнЗрмЯрнН рморнЗрм╕рнЗрмЬрнН",
        labelMessage: "рморнЗрм╕рнЗрмЬрнН (рмПрмарм╛рм░рнЗ рмЯрм╛рмЗрмкрнН рмХрм░рмирнНрмдрнБ рмХрм┐рморнНрммрм╛ рмкрнЗрм╖рнНрмЯрнН рмХрм░рмирнНрмдрнБ):",
        labelPassword: "рмкрм╛рм╕рн▒рм╛рм░рнНрмб:",
        encrypt: "рмЗрмирнНрмХрнНрм░рм┐рмкрнНрмЯрнН ЁЯФТ",
        decrypt: "рмбрм┐рмХрнНрм░рм┐рмкрнНрмЯрнН ЁЯФУ",
        copy: "рмирмХрм▓ рмХрм░рмирнНрмдрнБ ЁЯУЛ",
        crafted: "рмкрнНрм░рнЗрмо рм╕рм╣рм┐рмд рмдрм┐рмЖрм░рм┐ тЭдя╕П рмЧрнЛрмкрнАрмирм╛рмермЩрнНрмХ рмжрнНрн▒рм╛рм░рм╛",
        alertNoMessage: "рмжрнЯрм╛рмХрм░рм┐ рморнЗрм╕рнЗрмЬрнН рмжрм┐рмЕрмирнНрмдрнБред",
        alertNoPassword: "рмжрнЯрм╛рмХрм░рм┐ рмкрм╛рм╕рн▒рм╛рм░рнНрмб рмжрм┐рмЕрмирнНрмдрнБред",
        alertNoEncrypted: "рмжрнЯрм╛рмХрм░рм┐ рмЗрмирнНрмХрнНрм░рм┐рмкрнНрмЯрнН рмЗрморнЛрмЬрм┐ рморнЗрм╕рнЗрмЬрнН рмжрм┐рмЕрмирнНрмдрнБред",
        alertIncorrectPassword: "рмнрнБрм▓ рмкрм╛рм╕рн▒рм╛рм░рнНрмб рмХрм┐рморнНрммрм╛ рморнЗрм╕рнЗрмЬрнН рмЦрм░рм╛рмк рмЕрмЯрнЗред",
        alertEncryptionFailed: "рмЗрмирнНрмХрнНрм░рм┐рмкрнНрм╕рмирнН рмЕрм╕рмлрм│ рм╣рнЗрм▓рм╛ред",
        alertDecryptionFailed: "рмбрм┐рмХрнНрм░рм┐рмкрнНрм╕рмирнН рмЕрм╕рмлрм│ рм╣рнЗрм▓рм╛ред",
        alertCopied: "рмЖрмЙрмЯрмкрнБрмЯрнН рмХрнНрм▓рм┐рмкрнН рммрнЛрм░рнНрмбрмХрнБ рмХрмкрм┐ рм╣рнЛрмЗрмЧрм▓рм╛!"
      }
    };

    let currentLang = 'en';
    let currentEmojiSet = 'default';

    const messageEl = document.getElementById('message');
    const passwordEl = document.getElementById('password');
    const outputEl = document.getElementById('output');
    const langSelect = document.getElementById('langSelect');
    const emojiSetSelect = document.getElementById('emojiSetSelect');
    const themeToggle = document.getElementById('themeToggle');

    function updateLanguage() {
      const d = langData[currentLang];
      document.getElementById('title').textContent = d.title;
      document.getElementById('labelMessage').textContent = d.labelMessage;
      document.getElementById('labelPassword').textContent = d.labelPassword;
      document.getElementById('encryptBtn').textContent = d.encrypt;
      document.getElementById('decryptBtn').textContent = d.decrypt;
      document.getElementById('copyBtn').textContent = d.copy;
      document.getElementById('footerText').textContent = d.crafted;
    }

    langSelect.addEventListener('change', () => {
      currentLang = langSelect.value;
      updateLanguage();
      clearAll();
    });

    emojiSetSelect.addEventListener('change', () => {
      currentEmojiSet = emojiSetSelect.value;
      clearAll();
    });

    themeToggle.addEventListener('click', () => {
      document.body.classList.toggle('dark');
      const isDark = document.body.classList.contains('dark');
      themeToggle.setAttribute('aria-pressed', isDark);
      themeToggle.textContent = isDark ? 'тШАя╕П Light Mode' : 'ЁЯМЩ Dark Mode';
    });

    function base64ToEmoji(base64Str) {
      const emojiChars = emojiSets[currentEmojiSet];
      let result = "";
      for (let ch of base64Str) {
        if (ch === "=") continue;
        const idx = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(ch);
        if (idx === -1) continue;
        result += emojiChars[idx];
      }
      return result;
    }

    function emojiToBase64(emojiStr) {
      const emojiChars = emojiSets[currentEmojiSet];
      let result = "";
      for (let ch of emojiStr) {
        const idx = emojiChars.indexOf(ch);
        if (idx === -1) continue;
        result += "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(idx);
      }
      while (result.length % 4 !== 0) result += "=";
      return result;
    }

    function encryptMessage() {
      const msg = messageEl.value;
      const pwd = passwordEl.value;
      const d = langData[currentLang];

      if (!msg) {
        alert(d.alertNoMessage);
        return;
      }
      if (!pwd) {
        alert(d.alertNoPassword);
        return;
      }

      try {
        const encrypted = CryptoJS.AES.encrypt(msg, pwd).toString();
        const emojiEncoded = base64ToEmoji(encrypted);
        outputEl.textContent = emojiEncoded;
      } catch {
        alert(d.alertEncryptionFailed);
        outputEl.textContent = "";
      }
    }

    function decryptMessage() {
      const emojiEncrypted = messageEl.value;
      const pwd = passwordEl.value;
      const d = langData[currentLang];

      if (!emojiEncrypted) {
        alert(d.alertNoEncrypted);
        return;
      }
      if (!pwd) {
        alert(d.alertNoPassword);
        return;
      }

      try {
        const base64Str = emojiToBase64(emojiEncrypted);
        const bytes = CryptoJS.AES.decrypt(base64Str, pwd);
        const decrypted = bytes.toString(CryptoJS.enc.Utf8);
        if (!decrypted) {
          alert(d.alertIncorrectPassword);
          outputEl.textContent = "";
        } else {
          outputEl.textContent = decrypted;
        }
      } catch {
        alert(d.alertDecryptionFailed);
        outputEl.textContent = "";
      }
    }

    document.getElementById('encryptBtn').addEventListener('click', encryptMessage);
    document.getElementById('decryptBtn').addEventListener('click', decryptMessage);
    document.getElementById('copyBtn').addEventListener('click', () => {
      if (!outputEl.textContent) return alert(langData[currentLang].alertNoMessage);
      navigator.clipboard.writeText(outputEl.textContent)
        .then(() => alert(langData[currentLang].alertCopied))
        .catch(() => alert('Clipboard copy failed'));
    });

    function clearAll() {
      messageEl.value = "";
      passwordEl.value = "";
      outputEl.textContent = "";
    }

    updateLanguage();
  </script>
</body>
</html>
